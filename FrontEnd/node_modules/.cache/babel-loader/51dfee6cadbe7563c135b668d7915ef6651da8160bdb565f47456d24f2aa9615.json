{"ast":null,"code":"// src/components/Transactions/Transactions.jsx\nimport React,{useState,useEffect,useCallback}from'react';import'../styles/Transactions.css';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Transactions=()=>{const[month,setMonth]=useState(3);// Default is March\nconst[transactions,setTransactions]=useState([]);const[searchTerm,setSearchTerm]=useState('');const[page,setPage]=useState(1);const itemsPerPage=10;// Define items per page\nconst months=[{name:'January',value:1},{name:'February',value:2},{name:'March',value:3},{name:'April',value:4},{name:'May',value:5},{name:'June',value:6},{name:'July',value:7},{name:'August',value:8},{name:'September',value:9},{name:'October',value:10},{name:'November',value:11},{name:'December',value:12}];const fetchTransactions=useCallback(async()=>{const res=await axios.get(`http://localhost:5000/api/transactions?month=${month}&page=${page}&search=${searchTerm}`);setTransactions(res.data);},[month,page,searchTerm]);useEffect(()=>{fetchTransactions();},[fetchTransactions]);const handleMonthChange=e=>{setMonth(parseInt(e.target.value));setPage(1);// Reset to first page on month change\n};const handleSearchChange=e=>{setSearchTerm(e.target.value);};// Calculate total items displayed on current page\nconst totalItemsDisplayed=transactions.length;return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search transaction\",value:searchTerm,onChange:handleSearchChange}),/*#__PURE__*/_jsx(\"select\",{value:month,onChange:handleMonthChange,children:months.map(m=>/*#__PURE__*/_jsx(\"option\",{value:m.value,children:m.name},m.value))})]}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Category\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Sold\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Image\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:transactions.map(t=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:t.id}),/*#__PURE__*/_jsx(\"td\",{children:t.title}),/*#__PURE__*/_jsx(\"td\",{children:t.description}),/*#__PURE__*/_jsx(\"td\",{children:t.price}),/*#__PURE__*/_jsx(\"td\",{children:t.category}),/*#__PURE__*/_jsx(\"td\",{children:t.sold?'Yes':'No'}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{src:t.image,alt:t.title,style:{width:'50px'}})})]},t.id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pagination\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Page No: \",page,\" \"]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Per Page: \",totalItemsDisplayed,\" / \",itemsPerPage]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pagination\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setPage(page-1),disabled:page===1,children:\"Previous\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setPage(page+1),disabled:totalItemsDisplayed<itemsPerPage,children:\"Next\"})]})]});};export default Transactions;","map":{"version":3,"names":["React","useState","useEffect","useCallback","axios","jsx","_jsx","jsxs","_jsxs","Transactions","month","setMonth","transactions","setTransactions","searchTerm","setSearchTerm","page","setPage","itemsPerPage","months","name","value","fetchTransactions","res","get","data","handleMonthChange","e","parseInt","target","handleSearchChange","totalItemsDisplayed","length","className","children","type","placeholder","onChange","map","m","t","id","title","description","price","category","sold","src","image","alt","style","width","onClick","disabled"],"sources":["C:/Users/Vivek.A/Desktop/TransactViz/client/src/components/Transactions.jsx"],"sourcesContent":["// src/components/Transactions/Transactions.jsx\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\nimport '../styles/Transactions.css';\r\nimport axios from 'axios';\r\n\r\nconst Transactions = () => {\r\n    const [month, setMonth] = useState(3); // Default is March\r\n    const [transactions, setTransactions] = useState([]);\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [page, setPage] = useState(1);\r\n    const itemsPerPage = 10; // Define items per page\r\n\r\n    const months = [\r\n        { name: 'January', value: 1 }, { name: 'February', value: 2 }, { name: 'March', value: 3 },\r\n        { name: 'April', value: 4 }, { name: 'May', value: 5 }, { name: 'June', value: 6 },\r\n        { name: 'July', value: 7 }, { name: 'August', value: 8 }, { name: 'September', value: 9 },\r\n        { name: 'October', value: 10 }, { name: 'November', value: 11 }, { name: 'December', value: 12 }\r\n    ];\r\n\r\n    const fetchTransactions = useCallback(async () => {\r\n        const res = await axios.get(`http://localhost:5000/api/transactions?month=${month}&page=${page}&search=${searchTerm}`);\r\n        setTransactions(res.data);\r\n    }, [month, page, searchTerm]);\r\n\r\n    useEffect(() => {\r\n        fetchTransactions();\r\n    }, [fetchTransactions]);\r\n\r\n    const handleMonthChange = (e) => {\r\n        setMonth(parseInt(e.target.value));\r\n        setPage(1); // Reset to first page on month change\r\n    };\r\n\r\n    const handleSearchChange = (e) => {\r\n        setSearchTerm(e.target.value);\r\n    };\r\n\r\n    // Calculate total items displayed on current page\r\n    const totalItemsDisplayed = transactions.length;\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"header\">\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"Search transaction\"\r\n                    value={searchTerm}\r\n                    onChange={handleSearchChange}\r\n                />\r\n                <select value={month} onChange={handleMonthChange}>\r\n                    {months.map((m) => (\r\n                        <option key={m.value} value={m.value}>{m.name}</option>\r\n                    ))}\r\n                </select>\r\n            </div>\r\n\r\n            <table>\r\n                <thead>\r\n                    <tr>\r\n                        <th>ID</th>\r\n                        <th>Title</th>\r\n                        <th>Description</th>\r\n                        <th>Price</th>\r\n                        <th>Category</th>\r\n                        <th>Sold</th>\r\n                        <th>Image</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {transactions.map((t) => (\r\n                        <tr key={t.id}>\r\n                            <td>{t.id}</td>\r\n                            <td>{t.title}</td>\r\n                            <td>{t.description}</td>\r\n                            <td>{t.price}</td>\r\n                            <td>{t.category}</td>\r\n                            <td>{t.sold ? 'Yes' : 'No'}</td>\r\n                            <td><img src={t.image} alt={t.title} style={{ width: '50px' }} /></td>\r\n                        </tr>\r\n                    ))}\r\n                </tbody>\r\n            </table>\r\n\r\n           \r\n            <div className=\"pagination\">\r\n            <span>Page No: {page} </span>\r\n                <span>Per Page: {totalItemsDisplayed} / {itemsPerPage}</span>\r\n            </div>\r\n\r\n            <div className=\"pagination\">\r\n                <button onClick={() => setPage(page - 1)} disabled={page === 1}>Previous</button>\r\n                \r\n                <button onClick={() => setPage(page + 1)} disabled={totalItemsDisplayed < itemsPerPage}>Next</button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Transactions;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}